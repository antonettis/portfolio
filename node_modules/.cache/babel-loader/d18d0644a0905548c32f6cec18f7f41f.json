{"ast":null,"code":"var _jsxFileName = \"/Users/serenaantonetti/portfolio-2019/src/components/ProjectPreview.jsx\";\nimport React, { Component } from \"react\";\nimport { Sprite, Stage, TilingSprite } from \"react-pixi-fiber\";\nimport * as PIXI from \"pixi.js\";\nconst height = 400;\nconst width = 400;\nconst OPTIONS = {\n  backgroundColor: 0x1099bb\n};\nconst bgTexture = PIXI.Texture.fromImage(\"http://pixijs.io/pixi-filters/tools/demo/images/displacement_BG.jpg\");\nconst displacementTexture = PIXI.Texture.fromImage(\"../img/dmaps/2048x2048/clouds.jpg\");\n\nclass ProjectPreview extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filters: []\n    };\n    this.displacementSprite = React.createRef();\n    this.overlaySprite = React.createRef();\n  }\n\n  componentDidMount() {\n    this.setState({\n      filters: [new PIXI.filters.DisplacementFilter(this.displacementSprite.current)]\n    });\n    PIXI.ticker.shared.add(this.move, this);\n  }\n\n  componentWillUnmount() {\n    PIXI.ticker.shared.remove(this.move, this);\n  }\n\n  move() {\n    this.overlaySprite.current.tilePosition.x -= 1;\n    this.overlaySprite.current.tilePosition.y -= 1;\n  }\n\n  render() {\n    return React.createElement(Stage, {\n      options: OPTIONS,\n      width: width,\n      height: height,\n      filters: this.state.filters,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Sprite, {\n      texture: bgTexture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(TilingSprite, {\n      ref: this.overlaySprite,\n      width: 512,\n      height: 512,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(Sprite, {\n      ref: this.displacementSprite,\n      texture: displacementTexture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ProjectPreview;","map":{"version":3,"sources":["/Users/serenaantonetti/portfolio-2019/src/components/ProjectPreview.jsx"],"names":["React","Component","Sprite","Stage","TilingSprite","PIXI","height","width","OPTIONS","backgroundColor","bgTexture","Texture","fromImage","displacementTexture","ProjectPreview","constructor","props","state","filters","displacementSprite","createRef","overlaySprite","componentDidMount","setState","DisplacementFilter","current","ticker","shared","add","move","componentWillUnmount","remove","tilePosition","x","y","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,YAAxB,QAA4C,kBAA5C;AACA,OAAO,KAAKC,IAAZ,MAAsB,SAAtB;AAEA,MAAMC,MAAM,GAAG,GAAf;AACA,MAAMC,KAAK,GAAG,GAAd;AACA,MAAMC,OAAO,GAAG;AACdC,EAAAA,eAAe,EAAE;AADH,CAAhB;AAIA,MAAMC,SAAS,GAAGL,IAAI,CAACM,OAAL,CAAaC,SAAb,CAChB,qEADgB,CAAlB;AAIA,MAAMC,mBAAmB,GAAGR,IAAI,CAACM,OAAL,CAAaC,SAAb,CAC1B,mCAD0B,CAA5B;;AAIA,MAAME,cAAN,SAA6Bb,SAA7B,CAAuC;AACrCc,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE;AADE,KAAb;AAIA,SAAKC,kBAAL,GAA0BnB,KAAK,CAACoB,SAAN,EAA1B;AACA,SAAKC,aAAL,GAAqBrB,KAAK,CAACoB,SAAN,EAArB;AACD;;AAEDE,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,QAAL,CAAc;AACZL,MAAAA,OAAO,EAAE,CACP,IAAIb,IAAI,CAACa,OAAL,CAAaM,kBAAjB,CAAoC,KAAKL,kBAAL,CAAwBM,OAA5D,CADO;AADG,KAAd;AAMApB,IAAAA,IAAI,CAACqB,MAAL,CAAYC,MAAZ,CAAmBC,GAAnB,CAAuB,KAAKC,IAA5B,EAAkC,IAAlC;AACD;;AAEDC,EAAAA,oBAAoB,GAAG;AACrBzB,IAAAA,IAAI,CAACqB,MAAL,CAAYC,MAAZ,CAAmBI,MAAnB,CAA0B,KAAKF,IAA/B,EAAqC,IAArC;AACD;;AAEDA,EAAAA,IAAI,GAAG;AACL,SAAKR,aAAL,CAAmBI,OAAnB,CAA2BO,YAA3B,CAAwCC,CAAxC,IAA6C,CAA7C;AACA,SAAKZ,aAAL,CAAmBI,OAAnB,CAA2BO,YAA3B,CAAwCE,CAAxC,IAA6C,CAA7C;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,KAAD;AACE,MAAA,OAAO,EAAE3B,OADX;AAEE,MAAA,KAAK,EAAED,KAFT;AAGE,MAAA,MAAM,EAAED,MAHV;AAIE,MAAA,OAAO,EAAE,KAAKW,KAAL,CAAWC,OAJtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAER,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,EAOE,oBAAC,YAAD;AACE,MAAA,GAAG,EAAE,KAAKW,aADZ;AAEE,MAAA,KAAK,EAAE,GAFT;AAGE,MAAA,MAAM,EAAE,GAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,EAYE,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAE,KAAKF,kBAAlB;AAAsC,MAAA,OAAO,EAAEN,mBAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZF,CADF;AAgBD;;AAhDoC;;AAmDvC,eAAeC,cAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Sprite, Stage, TilingSprite } from \"react-pixi-fiber\";\nimport * as PIXI from \"pixi.js\";\n\nconst height = 400;\nconst width = 400;\nconst OPTIONS = {\n  backgroundColor: 0x1099bb\n};\n\nconst bgTexture = PIXI.Texture.fromImage(\n  \"http://pixijs.io/pixi-filters/tools/demo/images/displacement_BG.jpg\"\n);\n\nconst displacementTexture = PIXI.Texture.fromImage(\n  \"../img/dmaps/2048x2048/clouds.jpg\"\n);\n\nclass ProjectPreview extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filters: []\n    };\n\n    this.displacementSprite = React.createRef();\n    this.overlaySprite = React.createRef();\n  }\n\n  componentDidMount() {\n    this.setState({\n      filters: [\n        new PIXI.filters.DisplacementFilter(this.displacementSprite.current)\n      ]\n    });\n\n    PIXI.ticker.shared.add(this.move, this);\n  }\n\n  componentWillUnmount() {\n    PIXI.ticker.shared.remove(this.move, this);\n  }\n\n  move() {\n    this.overlaySprite.current.tilePosition.x -= 1;\n    this.overlaySprite.current.tilePosition.y -= 1;\n  }\n\n  render() {\n    return (\n      <Stage\n        options={OPTIONS}\n        width={width}\n        height={height}\n        filters={this.state.filters}\n      >\n        <Sprite texture={bgTexture} />\n        <TilingSprite\n          ref={this.overlaySprite}\n          width={512}\n          height={512}\n        />\n        <Sprite ref={this.displacementSprite} texture={displacementTexture} />\n      </Stage>\n    );\n  }\n}\n\nexport default ProjectPreview;\n"]},"metadata":{},"sourceType":"module"}