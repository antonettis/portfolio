{"ast":null,"code":"var _jsxFileName = \"/Users/serenaantonetti/portfolio-2019/src/components/ProjectPreview.jsx\";\nimport React from \"react\";\nimport * as PIXI from \"pixi.js\";\n\nclass ProjectPreview extends React.Component {\n  render() {\n    var width = window.offsetWidth;\n    var height = window.offsetHeight;\n    var playground = document.getElementById(\"px-render\");\n    var canvas;\n    var count = 0;\n    var raf;\n    var renderer = PIXI.autoDetectRenderer(width, height, {\n      transparent: true\n    });\n    renderer.autoResize = true;\n    var tp, preview;\n    var displacementSprite, displacementFilter, stage;\n\n    function setScene(url) {\n      playground.appendChild(renderer.view);\n      stage = new PIXI.Container();\n      tp = PIXI.Texture.fromImage(url);\n      preview = new PIXI.Sprite(tp);\n      preview.anchor.x = 0;\n      displacementSprite = PIXI.Sprite.fromImage(\"https://res.cloudinary.com/dvxikybyi/image/upload/v1486634113/2yYayZk_vqsyzx.png\");\n      displacementSprite.texture.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;\n      displacementFilter = new PIXI.filters.DisplacementFilter(displacementSprite);\n      displacementSprite.scale.y = 0.6;\n      displacementSprite.scale.x = 0.6;\n      stage.addChild(displacementSprite);\n      stage.addChild(preview);\n      animate();\n    }\n\n    function removeScene() {\n      cancelAnimationFrame(raf);\n      stage.removeChildren();\n      stage.destroy(true);\n      playground.removeChild(canvas);\n    }\n\n    function animate() {\n      raf = requestAnimationFrame(animate);\n      displacementSprite.x = count * 10;\n      displacementSprite.y = count * 10;\n      count += 0.05;\n      stage.filters = [displacementFilter];\n      renderer.render(stage);\n      canvas = playground.querySelector(\"canvas\");\n    }\n\n    setScene(\"https://unsplash.it/600/?random\");\n    return React.createElement(\"div\", {\n      id: \"px-render\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default ProjectPreview;","map":{"version":3,"sources":["/Users/serenaantonetti/portfolio-2019/src/components/ProjectPreview.jsx"],"names":["React","PIXI","ProjectPreview","Component","render","width","window","offsetWidth","height","offsetHeight","playground","document","getElementById","canvas","count","raf","renderer","autoDetectRenderer","transparent","autoResize","tp","preview","displacementSprite","displacementFilter","stage","setScene","url","appendChild","view","Container","Texture","fromImage","Sprite","anchor","x","texture","baseTexture","wrapMode","WRAP_MODES","REPEAT","filters","DisplacementFilter","scale","y","addChild","animate","removeScene","cancelAnimationFrame","removeChildren","destroy","removeChild","requestAnimationFrame","querySelector"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as PIXI from \"pixi.js\";\n\nclass ProjectPreview extends React.Component {\n  render() {\n    var width = window.offsetWidth;\n    var height = window.offsetHeight;\n    var playground = document.getElementById(\"px-render\");\n\n    var canvas;\n\n    var count = 0;\n    var raf;\n\n    var renderer = PIXI.autoDetectRenderer(width, height, {\n      transparent: true\n    });\n    renderer.autoResize = true;\n    var tp, preview;\n    var displacementSprite, displacementFilter, stage;\n\n    function setScene(url) {\n      playground.appendChild(renderer.view);\n\n      stage = new PIXI.Container();\n\n      tp = PIXI.Texture.fromImage(url);\n      preview = new PIXI.Sprite(tp);\n\n      preview.anchor.x = 0;\n\n      displacementSprite = PIXI.Sprite.fromImage(\n        \"https://res.cloudinary.com/dvxikybyi/image/upload/v1486634113/2yYayZk_vqsyzx.png\"\n      );\n      displacementSprite.texture.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;\n\n      displacementFilter = new PIXI.filters.DisplacementFilter(\n        displacementSprite\n      );\n\n      displacementSprite.scale.y = 0.6;\n      displacementSprite.scale.x = 0.6;\n\n      stage.addChild(displacementSprite);\n\n      stage.addChild(preview);\n\n      animate();\n    }\n\n    function removeScene() {\n      cancelAnimationFrame(raf);\n      stage.removeChildren();\n      stage.destroy(true);\n      playground.removeChild(canvas);\n    }\n\n    function animate() {\n      raf = requestAnimationFrame(animate);\n\n      displacementSprite.x = count * 10;\n      displacementSprite.y = count * 10;\n\n      count += 0.05;\n\n      stage.filters = [displacementFilter];\n\n      renderer.render(stage);\n\n      canvas = playground.querySelector(\"canvas\");\n    }\n\n    setScene(\"https://unsplash.it/600/?random\");\n\n    return <div id=\"px-render\"></div>;\n  }\n}\n\nexport default ProjectPreview;\n"]},"metadata":{},"sourceType":"module"}