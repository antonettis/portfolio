{"ast":null,"code":"var _jsxFileName = \"/Users/serenaantonetti/portfolio-2019/src/components/TimeLoop.jsx\";\nimport React, { PureComponent } from \"react\";\nimport raf from \"raf\";\nimport hoistNonReactStatics from \"hoist-non-react-statics\"; // NB this is only an utility for the examples\n\nexport default ((C, {\n  refreshRate = 60\n} = {}) => {\n  class TL extends PureComponent {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n        time: 0,\n        tick: 0\n      };\n    }\n\n    componentDidMount() {\n      let startTime, lastTime;\n      let interval = 1000 / refreshRate;\n      lastTime = -interval;\n\n      const loop = t => {\n        this._r = raf(loop);\n        if (!startTime) startTime = t;\n\n        if (t - lastTime > interval) {\n          lastTime = t;\n          this.setState({\n            time: t - startTime,\n            tick: this.state.tick + 1\n          });\n        }\n      };\n\n      this._r = raf(loop);\n    }\n\n    componentWillUnmount() {\n      raf.cancel(this._r);\n    }\n\n    render() {\n      return React.createElement(C, Object.assign({}, this.props, this.state, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }));\n    }\n\n  }\n\n  TL.displayName = `timeLoop(${C.displayName || C.name || \"\"})`;\n  hoistNonReactStatics(TL, C);\n  return TL;\n});","map":{"version":3,"sources":["/Users/serenaantonetti/portfolio-2019/src/components/TimeLoop.jsx"],"names":["React","PureComponent","raf","hoistNonReactStatics","C","refreshRate","TL","state","time","tick","componentDidMount","startTime","lastTime","interval","loop","t","_r","setState","componentWillUnmount","cancel","render","props","displayName","name"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,oBAAP,MAAiC,yBAAjC,C,CAEA;;AACA,gBAAe,CACbC,CADa,EAEb;AAAEC,EAAAA,WAAW,GAAG;AAAhB,IAAiD,EAFpC,KAGK;AAClB,QAAMC,EAAN,SAAiBL,aAAjB,CAA+B;AAAA;AAAA;AAAA,WAG7BM,KAH6B,GAGrB;AACNC,QAAAA,IAAI,EAAE,CADA;AAENC,QAAAA,IAAI,EAAE;AAFA,OAHqB;AAAA;;AAQ7BC,IAAAA,iBAAiB,GAAG;AAClB,UAAIC,SAAJ,EAAuBC,QAAvB;AACA,UAAIC,QAAQ,GAAG,OAAOR,WAAtB;AACAO,MAAAA,QAAQ,GAAG,CAACC,QAAZ;;AACA,YAAMC,IAAI,GAAIC,CAAD,IAAe;AAC1B,aAAKC,EAAL,GAAUd,GAAG,CAACY,IAAD,CAAb;AACA,YAAI,CAACH,SAAL,EAAgBA,SAAS,GAAGI,CAAZ;;AAChB,YAAIA,CAAC,GAAGH,QAAJ,GAAeC,QAAnB,EAA6B;AAC3BD,UAAAA,QAAQ,GAAGG,CAAX;AACA,eAAKE,QAAL,CAAc;AACZT,YAAAA,IAAI,EAAEO,CAAC,GAAGJ,SADE;AAEZF,YAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IAAX,GAAkB;AAFZ,WAAd;AAID;AACF,OAVD;;AAWA,WAAKO,EAAL,GAAUd,GAAG,CAACY,IAAD,CAAb;AACD;;AACDI,IAAAA,oBAAoB,GAAG;AACrBhB,MAAAA,GAAG,CAACiB,MAAJ,CAAW,KAAKH,EAAhB;AACD;;AACDI,IAAAA,MAAM,GAAG;AACP,aAAO,oBAAC,CAAD,oBAAO,KAAKC,KAAZ,EAAuB,KAAKd,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;AA9B4B;;AAAzBD,EAAAA,EADY,CAETgB,WAFS,GAEM,YAAWlB,CAAC,CAACkB,WAAF,IAAiBlB,CAAC,CAACmB,IAAnB,IAA2B,EAAG,GAF/C;AAkClBpB,EAAAA,oBAAoB,CAACG,EAAD,EAAKF,CAAL,CAApB;AAEA,SAAOE,EAAP;AACD,CAxCD","sourcesContent":["//@flow\nimport React, { PureComponent } from \"react\";\nimport raf from \"raf\";\nimport hoistNonReactStatics from \"hoist-non-react-statics\";\n\n// NB this is only an utility for the examples\nexport default (\n  C: ReactClass<*>,\n  { refreshRate = 60 }: { refreshRate?: number } = {}\n): ReactClass<*> => {\n  class TL extends PureComponent {\n    static displayName = `timeLoop(${C.displayName || C.name || \"\"})`;\n    state: { time: number };\n    state = {\n      time: 0,\n      tick: 0\n    };\n    _r: any;\n    componentDidMount() {\n      let startTime: number, lastTime: number;\n      let interval = 1000 / refreshRate;\n      lastTime = -interval;\n      const loop = (t: number) => {\n        this._r = raf(loop);\n        if (!startTime) startTime = t;\n        if (t - lastTime > interval) {\n          lastTime = t;\n          this.setState({\n            time: t - startTime,\n            tick: this.state.tick + 1\n          });\n        }\n      };\n      this._r = raf(loop);\n    }\n    componentWillUnmount() {\n      raf.cancel(this._r);\n    }\n    render() {\n      return <C {...this.props} {...this.state} />;\n    }\n  }\n\n  hoistNonReactStatics(TL, C);\n\n  return TL;\n};\n"]},"metadata":{},"sourceType":"module"}